#dependencies:
    #override:
        #- sudo pip install awscli
#deployment:
  #prod:
    #branch: master
    #commands:
      #- aws s3 sync https://github.com/toopukondabhaskar/S3ContinuousDeploy s3://s3awscirclecidemo --delete


version: 2
jobs:
  build:
    working_directory: ~/S3ContinuousDeploy
    steps:
      ... # build/dependancies
      #- run:
          #name: build
      - run:
          name: install AWS CLI (first install pip, the Python package manager)
          command: |
            apk add --update python python-dev py-pip build-base
            pip install awscli

  deploy:
    machine:
      enabled: true
    working_directory: ~/S3ContinuousDeploy
    steps:
       - run:
          name: Deploy
          #command: 'aws s3 sync ${source}/ s3://${bucket} --region us-west-2'
          command: 'aws s3 sync https://github.com/toopukondabhaskar/S3ContinuousDeploy s3://s3awscirclecidemo --region us-east-1'
